"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.default = void 0;
var _coding = _interopRequireDefault(require("../coding"));
var _animation = _interopRequireDefault(require("./animation"));
var _utilitaires = _interopRequireDefault(require("../utilitaires"));
function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {
        default: obj
    };
}
/**
 * @param _obj
 * @param _nb_lines {number}
 * @param _time {string|number}
 * @returns: nothing
 */ var Truncate = function(_obj, _nb_lines, _time) {
    try {
        if (typeof _obj != "undefined" && _obj != null && _obj.textContent.length > 45) {
            var lines = _utilitaires.default.getLines(_obj);
            if (lines > _nb_lines) {
                _obj.style.height = _nb_lines * 18 + "px";
                var btn = _coding.default.new("button");
                btn.innerHTML = "plus";
                btn.className = "truncate-btn";
                btn.title = "Afficher tout le texte";
                btn.onclick = function(e) {
                    (0, _animation).default({
                        type: "height",
                        object: _obj,
                        value: lines * 20.5,
                        time: parseInt(_time)
                    });
                    //_obj.style.height = "auto";
                    _coding.default.hide(e.currentTarget);
                };
                _obj.appendChild(btn);
            }
        }
    } catch (e) {
        console.log(e);
    }
};
var _default = Truncate;
exports.default = _default;
